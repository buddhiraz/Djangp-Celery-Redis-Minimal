{
    "family": "django-task",
    "containerDefinitions": [
      {
        "name": "django",
        "image": "<IMAGE_URL_FROM_ECR>",  
        "cpu": 256,
        "memory": 512,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 8000,
            "hostPort": 8000
          }
        ],
        "environment": [
          { "name": "CELERY_BROKER_URL", "value": "redis://redis:6379/0" },
          { "name": "CELERY_RESULT_BACKEND", "value": "redis://redis:6379/0" }
        ]
      },
      {
        "name": "redis",
        "image": "redis:6.2",
        "cpu": 128,
        "memory": 256,
        "essential": true,
        "portMappings": [
          {
            "containerPort": 6379,
            "hostPort": 6379
          }
        ]
      },
      {
        "name": "celery",
        "image": "<IMAGE_URL_FROM_ECR>",
        "cpu": 256,
        "memory": 512,
        "essential": true,
        "command": ["celery", "-A", "celery_example", "worker", "--loglevel=info"]
      }
    ]
  }
  